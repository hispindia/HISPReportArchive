<script type="text/javascript">
    setInterval(function () {
        //autoPopulateData();

    }, 0);
	/*
    function autoPopulateData() {
        document.getElementById("sel_sub_national").value = document.getElementById("selectedOrganisationUnit").value;
    }
    */


</script>
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;">
    <tbody>
        <tr>
            <td colspan="3" style="text-align: center;"><strong>Leprosy case statistics - Subnational Level</strong>
            </td>
        </tr>
        <tr>
            <td colspan="3"><strong>State/Province&nbsp;&nbsp;&nbsp;&nbsp;</strong><input disabled="disabled"
                    id="sel_sub_national" name="sel_sub_national" type="text" value="" />&nbsp;&nbsp;</td>
        </tr>
        <tr>
            <td colspan="3"><strong>Population&nbsp;</strong><input id="b53NzLKRed0-HllvX50cXC0-val" name="entryfield"
                    title="Population - Subnational" value="[ Population - Subnational ]" /></td>
        </tr>
        <tr>
            <td colspan="3" style="text-align: center;"><strong>New Leprosy cases</strong></td>
        </tr>
        <tr>
            <td style="text-align: center;"><strong>MB Cases</strong></td>
            <td style="text-align: center;"><strong>PB Cases</strong></td>
            <td style="text-align: center;"><strong>Unclassified Cases</strong></td>
        </tr>
        <tr>
            <td><input id="vrltiuqfmsj-HllvX50cXC0-val" name="entryfield" title="New MB cases - Subnational"
                    value="[ New MB cases - Subnational ]" /></td>
            <td><input id="Im9Wvx4SVYb-HllvX50cXC0-val" name="entryfield" title="New PB cases - Subnational"
                    value="[ New PB cases - Subnational ]" /></td>
            <td><input id="JypGPnTq5Bf-HllvX50cXC0-val" name="entryfield" title="New Unclassified cases - Subnational"
                    value="[ New Unclassified cases - Subnational ]" /></td>
        </tr>
        <tr>
            <td><strong>Leprosy cases - Female&nbsp;</strong></td>
            <td colspan="2" rowspan="1"><input id="tfeQyWwloqn-HllvX50cXC0-val" name="entryfield"
                    title="Leprosy cases - Female - Subnational" value="[ Leprosy cases - Female - Subnational ]" />
            </td>
        </tr>
        <tr>
            <td><strong>Leprosy cases - Children</strong></td>
            <td colspan="2" rowspan="1"><input id="SmZe6komFZU-HllvX50cXC0-val" name="entryfield"
                    title="Leprosy cases - Children - Subnational" value="[ Leprosy cases - Children - Subnational ]" />
            </td>
        </tr>
        <tr>
            <td><strong>New cases with grade 2 disabilities&nbsp;</strong></td>
            <td colspan="2" rowspan="1"><input id="oVOZ3nwK0VU-HllvX50cXC0-val" name="entryfield"
                    title="Leprosy G2D cases - Subnational" value="[ Leprosy G2D cases - Subnational ]" /></td>
        </tr>
        <tr>
            <td colspan="3"><strong><span style="color:#0000ff;"><span data-translate="comment1">Submit data : Click on
                            the &#39;Complete button&#39; to submit the data. This will only be allowed if all the
                            mandatory data fields are filled and validated.</span><br />
                        <span data-translate="comment2">Edit data : Click on the &#39;Incomplete button&#39; to edit the
                            data once submitted.</span><br />
                        <span data-translate="comment3">Print form : Click on the &#39;Print form&#39; button to
                            download the filled data entry form.</span><br />
                        <span data-translate="comment4">Print blank form : Click on the &#39;Print blank form&#39;
                            button to download the blank data entry form.</span></span></strong></td>
        </tr>
        <tr>
            <td colspan="3"><button class="instructions" onclick="downloadBlankExcel()"><span
                        data-translate="button1">Download Blank Excel Form</span></button><button class="instructions"
                    id="printButton" onclick="window.print()" style="width:120px; margin-bottom: 3px; margin-left:20px;"
                    value="Print form"><span data-translate="button2">Print form</span></button></td>
        </tr>
    </tbody>
</table>
<style type="text/css">
    /* printing */
    @media print {
        #printing {
            margin: 0%;
        }

        .instructions {
            display: none;
        }

        #infoDiv {
            display: none !important;
        }

        #completenessDiv {
            display: none !important;
        }

        #completedByDiv {
            display: none !important;
        }

        .confirm-dialog-content {
            display: none !important;
        }
    }
</style>
<script type="text/javascript">
    dhis2.util.on('dhis2.de.event.formReady', function (event, ds) {
        $(".entryfield").width('75px');
        document.getElementById("sel_sub_national").value = document.getElementById("selectedOrganisationUnit").value;

        //Use english as default, in case there is a problem fetching locale or 
        //there are no support for the users 

        /*
        translate('en');
        $.ajax({
            type: "GET",
            url: '../api/me.json',
            success: function (data) {

                var locale = data.settings.keyUiLocale;
                console.log("Locale: " + locale);
                if (locale != 'en') translate(locale);
            },
            error: function () {

            }
        });
        */


    });

    /*
    function translate(locale) {
        for (var i = 0; i < translations.length; i++) {
            var field = translations[i];

            if (!field.hasOwnProperty(locale)) return;

            $('[data-translate="' + field.id + '"]').html(field[locale]);
        }
    }
    */


    function downloadBlankExcel() {
        //var url1 = "../api/me/profile.json"; FyRBPBSTfCl
        var url1 = "../api/me.json";
        $.get(url1, function (data1) {
            var selectedLanguage = data1.settings.keyUiLocale;
            console.log(data1);
            console.log(selectedLanguage);
            if (selectedLanguage == "en") {
                window.location.href = "../api/documents/VKBiHwROH4q/data";
            }
            else if (selectedLanguage == "ar") {
                window.location.href = "../api/documents/VKBiHwROH4q/data";
            }
            else if (selectedLanguage == "es") {
                window.location.href = "../api/documents/VKBiHwROH4q/data";
            }
            else if (selectedLanguage == "ru") {
                window.location.href = "../api/documents/VKBiHwROH4q/data";
            }
            else if (selectedLanguage == "fr") {
                window.location.href = "../api/documents/VKBiHwROH4q/data";
            }
            else if (selectedLanguage == "pt") {
                window.location.href = "../api/documents/VKBiHwROH4q/data";
            }
        });
    }


</script>
<script type="text/javascript">
    var translations = [
        {
            "id": "text1",
            "ru": "Основная информация из национальных программ борьбы с проказой",
            "en": "Core information from National Leprosy Programmes",
            "fr": "Renseignements de base du National lèpre Programmes ",
            "es": "Centrales de Información Nacional de los Programas de lepra ",
            "ar": "المعلومات الأساسية من الجذام برامج ",
            "pt": "Informações básicas dos programas nacionais de hanseníase "
        }
    ];
</script>